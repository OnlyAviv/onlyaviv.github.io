---
// Import the Icon component
import { Icon } from 'astro-icon/components';

// Define the navigation sections
const sections = [
  { href: '/projects', title: 'Projects' },
  { href: '/blog', title: 'Blog' },
  { href: '/achievements', title: 'Achievements' },
  { href: 'https://github.com/sponsors/redyetidev', title: 'Donate'}
];
---

<nav
  id="navbar"
  class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 shadow-md bg-white"
>
  <div class="container mx-auto px-4">
    <div class="flex justify-between items-center py-4">
      <a id="logo" class="text-2xl font-bold text-red" href="/">Aviv Keller</a>
      <div id="menu-items" class="hidden md:flex space-x-6">
        {
          sections.map(({ title, href }) => (
            <a href={href} class="nav-link transition-colors duration-300">
              {title}
            </a>
          ))
        }
      </div>
      <button id="menuToggle" class="md:hidden text-white z-40">
        <Icon class="w-8 h-8" name="mdi:menu" />
      </button>
    </div>
  </div>

  {/* Mobile Menu */}
  <div id="mobileMenu" class="fixed inset-0 bg-white z-30 md:hidden hidden">
    <div class="flex flex-col items-center justify-center h-full space-y-6">
      {
        sections.map(({ title, href }) => (
          <a
            href={href}
            class="text-xl text-gray-600 hover:text-red-600 transition-colors duration-300"
          >
            {title}
          </a>
        ))
      }
    </div>
  </div>
</nav>

<script>
  const menuToggle = document.getElementById('menuToggle');
  const mobileMenu = document.getElementById('mobileMenu');
  let isMenuExpanded = false;

  const toggleMobileMenu = () => {
    isMenuExpanded = !isMenuExpanded;
    mobileMenu.classList.toggle('hidden');
    menuToggle.classList.toggle('text-white');

  };
  menuToggle.onclick = toggleMobileMenu;
</script>
<div class="h-16 relative"></div>